"use strict";!function(t,n,i,e){var a={type:"text",class:"form-control",value:"",options:{},wrapperTemplates:{input:'<div class="input-group"></div>',select:'<div class="form-group"></div>',textarea:'<div class="form-group"></div>'},buttonsTemplates:{input:'<div class="input-group-append"><button type="button" class="btn btn-light btn-submit"><span class="octicon octicon-check"></span></button><button type="button" class="btn btn-light btn-cancel"><span class="octicon octicon-x"></span></button></div>',select:'<div class="input-group-append"><button type="button" class="btn btn-light btn-submit"><span class="octicon octicon-check"></span> Aceptar</button><button type="button" class="btn btn-light btn-cancel"> Cancelar<span class="octicon octicon-x"></span></button></div>',textarea:'<div class="row"><button type="button" class="col-xs-4 btn btn-light btn-submit"><span class="octicon octicon-check"></span> Aceptar</button><button type="button" class="col-xs-4 btn btn-light btn-cancel"><span class="octicon octicon-x"></span> Cancelar</button></div>'},onInit:function(){},onSubmit:function(){},onCancel:function(){},onChange:function(){}},s=function(n){this.el=n,this.$el=t(n),this.name=this.$el.data("fifi-name"),this.config=t.extend({},a)};s.defaults=(s.prototype={init:function(n){var i=this.config;(i=t.extend(i,n)).value&&this.$el.html(i.value),this.$el.unbind("click"),this.$el.on("click",()=>{this.doit()}),this.config.onInit()},doit:function(){var n,i,e,a=this.config;switch(a.type){case"select":n=t("<select></select>").attr({val:a.value,name:this.name,class:a.class});var s=a.options;if(s&&"object"==typeof s){for(var o in s)n.append('<option value="'+o+'">'+s[o]+"</option");n.children().filter(function(n,i){return t(i).val()===a.value}).attr("selected",!0)}i=n.wrap(a.wrapperTemplates.select).parent(),e=a.buttonsTemplates.select;break;case"textarea":i=(n=t("<textarea></textarea>",{val:a.value,name:this.name,class:a.class})).wrap(a.wrapperTemplates.textarea).parent(),e=a.buttonsTemplates.textarea;break;default:i=(n=t("<input>").attr({value:a.value,name:this.name,type:a.type,class:a.class})).wrap(a.wrapperTemplates.input).parent(),e=a.buttonsTemplates.input}this.$el.after(i),this.$original=this.$el.detach(),n.after(e),this.config.onChange(n);var c=i.find('.btn-submit, button[type="submit"], button[type="button"]:nth-of-type(1)'),l=i.find('.btn-cancel, button[type="button"]:nth-of-type(2)');this.wrapper=i,t(c).on("click",()=>{var t={},i=n.val();t[this.name]=i,a.value=i,this.submit(t),this.undoit()}),t(l).on("click",()=>{this.cancel(),this.undoit()})},undoit:function(){var t=this.wrapper;if(t){var n=t.find("input, textarea, select");t.replaceWith(this.$original),this.$original.html(n.val())}},submit:function(t){return this.config.onSubmit(t),this},cancel:function(){return this.config.onCancel(),this},destroy:function(){this.undoit(),this.$el.off(),delete this.wrapper}}).defaults,t.fn.fifi=function(n){var i,e;if(this.data("plugin_fifi")instanceof s||this.data("plugin_fifi",new s(this)),e=this.data("plugin_fifi"),void 0===n||"object"==typeof n)"function"==typeof e.init&&e.init(n);else{if("string"==typeof n&&"function"==typeof e[n])return i=Array.prototype.slice.call(arguments,1),e[n].apply(e,i);t.error("Method "+n+" does not exist on jQuery.fifi")}return e},n.Fifi=s}(jQuery,window,document);